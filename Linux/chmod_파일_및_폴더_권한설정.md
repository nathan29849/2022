# chmod : 파일 및 폴더의 권한 설정하기

## chmod?
- 셸 커맨드로써 파일 또는 폴더의 권한을 변경할 때 사용합니다.
- 8진수 모드와 문자열 모드로 나뉜다.
> - 8진수 모드
>    - chmod [옵션]&nbsp;[소유자권한][그룹권한][그외 사용자권한]&nbsp;[파일or폴더]
> - 문자열 모드
>    - chmod [옵션]&nbsp;[레퍼런스][연산자][권한]&nbsp;[파일or폴더]

## 0. 권한을 확인하는 방법
```
$ ls -al
```

- 터미널에서 위 명령어를 통해서 해당 디렉토리 및 해당 디렉토리가 포함하는 요소(파일 또는 디렉토리)에 대한 권한을 확인할 수 있다.

![](https://images.velog.io/images/nathan29849/post/fe43128a-6685-422a-966a-2091d3e5b490/image.png)

- 위 이미지에 표시된 노란박스에 해당하는 텍스트를 봐보자
> drwxrw-r--
> drwxr-xr-x
> -rw-r--r--

|자리수|1|3|3|3|
|--|--|--|--|--|
|의미|폴더여부|소유자권한|그룹권한|그외사용자권한|

- 맨 앞의 `d`는 해당 항목이 파일인지 디렉토리인지를 나타내며 `d`가 있으면 디렉토리이다.
- 소유자 권한, 그룹 권한, 그 외 사용자 권한에 나타나는 `r`, `w`, `x`는 다음과 같은 의미를 갖는다.
   - `r` : 읽기 권한 
   - `w` : 쓰기 권한
   - `x` : 실행 권한
   
   
- 예를 들어 A라는 디렉토리의 권한이 `drwxrw-r--`이라면 ..?
   - 소유자 권한 : `rwx` (읽기, 쓰기, 실행 권한이 모두 있음)
   - 그룹 권한 : `rw-` (읽기, 쓰기 권한이 있음)
   - 그 외 사용자 권한 : `r--` (읽기 권한만 있음)

## 1. 8진수 모드
- 파일 또는 디렉토리의 권한을 8진수를 이용하여 부여하는 방식

> chmod [옵션]&nbsp;[소유자권한][그룹권한][그외 사용자권한]&nbsp;[파일or폴더]

|8진수|권한|rwx 표기|
|--|--|--|
|7|읽기, 쓰기, 실행|`rwx`|
|6|읽기, 쓰기|`rw-`|
|5|읽기, 실행|`r-x`|
|4|읽기|`r--`|
|3|쓰기, 실행|`-wx`|
|2|쓰기|`-w-`|
|1|실행|`--x`|
|0|권한 없음|`---`|

- 사용 예시 : `test.py`의 권한을 `rwxrw-r--`로 변경
> $ chmod 764 test.py

## 2. 문자열 모드
- 특정 문자열을 사용해 권한을 설정하는 방식

> chmod [옵션]&nbsp;[레퍼런스][연산자][권한]&nbsp;[파일or폴더]

#### 레퍼런스
|레퍼런스|사용자 유형|설명|
|--|--|--|
|u|소유자|파일 또는 디렉토리의 소유자|
|g|그룹|파일 또는 폴더의 그룹에 포함된 사용자|
|o|그 외 사용자|소유자, 그룹에 속한자가 모두 아닌 사용자|
|a|모든 사용자|모든 사용자, ugo와 동일한 의미|

#### 연산자
|연산자|설명|
|--|--|
|+|기존 권한에 추가|
|-|기존 권한에서 제거|
|=|지정한 권한으로 변경|

- 사용 예시 :`test.py`의 권한이 `rwxr--r--`일 때, 을 `rwxrw-r--`로 변경(w 추가)
```
$ chmod g+w test.py
```

## 3. 옵션
`-R` : 권한을 폴더의 하위 경로에도 모두 적용시킴

- 사용 예시 : `test_directory` 디렉토리 내의 모든 파일 및 디렉토리 권한을 `rwxrwxrwx`로 변경
```
$ chmod -R 777 test_directory
```



## References
- [위키피디아 - Chmod](https://en.wikipedia.org/wiki/Chmod)
- [[Shell] chmod - 파일 및 폴더의 권한 설정](https://nachwon.github.io/shell-chmod/)
